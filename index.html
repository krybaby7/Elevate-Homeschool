<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">A Modern High School, Personalized for Your Child | Elevate Learning Center</title>
    <meta name="description" id="page-description" content="Elevate offers a full-time, accredited American high school program in Sharm El-Sheikh, blending flexible learning with real school structure. Located at the French School (EFSSH) in Hadaba, our students benefit from small-group attention and official HarvardX electives.">
    <meta name="keywords" id="page-keywords" content="homeschool, Sharm El-Sheikh, American diploma, Bridgeway Academy, French School, EFSSH, education">
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo-container">
                <img src="assets/images/Elevate%20Logo.png" alt="Elevate" class="logo-image" id="logo-image">
            </div>
            <ul class="nav-links">
                <li><a href="#about">Homeschool Assistance</a></li>
                <li><span style="color: var(--secondary-color); cursor: not-allowed; opacity: 0.6;">SAT Prep <small>(Coming Soon)</small></span></li>
                <li><span style="color: var(--secondary-color); cursor: not-allowed; opacity: 0.6;">AP Prep <small>(Coming Soon)</small></span></li>
                <li><a href="#programs">Tuition Fees</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 id="hero-title">A Modern High School, Personalized for Your Child.</h1>
            <p class="subtitle" id="hero-subtitle">Tired of one-size-fits-all education? Elevate offers a unique, full-time high school program that blends a flexible, accredited American curriculum with the structure and support of a real school environment. Located at the French School (EFSSH) in Hadaba, our students engage with university-level electives featuring official HarvardX material, all within a small-group setting that ensures they receive the personalized attention needed to thrive.</p>
            <a href="#programs" class="hero-cta" id="hero-cta">Discover How</a>
        </div>
    </section>

    <!-- Elevate Advantage Section -->
    <section class="advantage" id="about">
        <div class="container">
            <h2 id="advantages-title">The Best of Both Worlds: Personalized Learning, Vibrant Community</h2>
            <div class="advantage-grid" id="advantages-grid">
                <!-- Advantage cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- HarvardX Curriculum Section -->
    <section class="harvard-curriculum">
        <div class="container">
            <h2>A World-Class Curriculum, Powered by HarvardX</h2>
            
            <div class="curriculum-content">
                <p>Our elective courses offer a unique advantage: students engage directly with official course material from Harvard University's online platform, HarvardX.</p>
                
                <p>We then bring this world-class content to life in our classroom. Our expert teachers provide the essential support, discussion, and guidance needed to master these advanced subjects.</p>
                
                <div class="curriculum-benefits">
                    <h3>Our model gives your child:</h3>
                    <div class="benefits-list">
                        <div class="benefit-item">
                            <div class="benefit-icon">ðŸš€</div>
                            <div class="benefit-content">
                                <h4>A Competitive Edge</h4>
                                <p>Experience university-level learning in subjects like AI, Computer Science, and Economics.</p>
                            </div>
                        </div>
                        
                        <div class="benefit-item">
                            <div class="benefit-icon">ðŸ§ </div>
                            <div class="benefit-content">
                                <h4>Deep Understanding</h4>
                                <p>Go beyond videos with teacher-led seminars and personalized projects.</p>
                            </div>
                        </div>
                        
                        <div class="benefit-item">
                            <div class="benefit-icon">ðŸŽ¯</div>
                            <div class="benefit-content">
                                <h4>A Path to Excellence</h4>
                                <p>Gain the critical thinking skills needed to succeed at top universities worldwide.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Partners Logo Belt -->
    <section class="partners-belt">
        <div class="container">
            <div class="partners-logos">
                <div class="partner-logo">
                    <img src="assets/images/efssh-logo.png.png" alt="Ã‰cole FranÃ§aise Sharm el Sheikh" />
                </div>
                <div class="partner-logo">
                    <img src="assets/images/hx-logo.png.png" alt="HX Platform" />
                </div>
                <div class="partner-logo">
                    <img src="assets/images/edx-logo.png.png" alt="edX Education Platform" />
                </div>
            </div>
        </div>
    </section>

    <!-- Tuition Fees Section -->
    <section class="programs" id="programs">
        <div class="container">
            <h2 id="program-section-title">Tuition Fees</h2>
            <div class="programs-grid" style="justify-content: center;">
                <div class="program-card" id="homeschool">
                    <h3 id="program-title">Full Homeschool Assistance Programme</h3>
                    <p class="description" id="program-description">Designed for high school students (Grades 9-12) seeking an internationally recognized American High School Diploma. Our program provides teacher-guided group lessons, curriculum support through Bridgeway Academy, and a structured school day.</p>
                    
                    <div class="program-details">
                        <h4 id="features-title">Key Features:</h4>
                        <ul id="features-list">
                            <!-- Features will be populated by JavaScript -->
                        </ul>
                    </div>

                    <div class="pricing">
                        <h4 id="pricing-title">Transparent Fee Structure:</h4>
                        <div id="fees-list">
                            <!-- Fees will be populated by JavaScript -->
                        </div>
                        <p id="pricing-note" style="font-size: 0.9rem; margin-top: 0.5rem; color: #7a7a7a;">Note: SAT ($111) & AP ($129) Exam fees are separate</p>
                    </div>

                    <a href="#contact" class="program-cta" id="program-cta">Interested!</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Section -->
    <section class="registration" id="contact">
        <div class="container">
            <h2 id="registration-title">Ready to Elevate Your Child's Learning Journey?</h2>
            <p class="subtitle" id="registration-subtitle">We are now gauging interest for our September 2025 intake. Spots are limited. Register your interest below to receive our full program brochure, fee details, and an invitation to an online information session.</p>
            
            <form class="registration-form" netlify name="registration">
                <div id="form-fields">
                    <!-- Form fields will be populated by JavaScript -->
                </div>

                <button type="submit" class="submit-btn" id="submit-btn">Register My Interest for September 2025</button>
                
                <p class="disclaimer" id="form-disclaimer">Submitting this form expresses your interest and does not constitute a commitment. We will contact you with further details.</p>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content" id="footer-sections">
                <!-- Footer sections will be populated by JavaScript -->
            </div>
            <p id="copyright" style="margin-top: 1rem; opacity: 0.8;">All Rights Reserved</p>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
    <script>
        // Load and populate content from YAML files
        async function loadYAMLFile(filename) {
            try {
                const response = await fetch(`_data/${filename}`);
                const yamlText = await response.text();
                return jsyaml.load(yamlText);
            } catch (error) {
                console.warn(`Could not load ${filename}, using fallback content`);
                return null;
            }
        }

        async function populateContent() {
            try {
                // Load all data files
                const [siteData, heroData, advantagesData, programData, registrationData, footerData] = await Promise.all([
                    loadYAMLFile('site.yml'),
                    loadYAMLFile('hero.yml'),
                    loadYAMLFile('advantages.yml'),
                    loadYAMLFile('program.yml'),
                    loadYAMLFile('registration.yml'),
                    loadYAMLFile('footer.yml')
                ]);

                // Update site metadata
                if (siteData) {
                    document.getElementById('page-title').textContent = siteData.title;
                    document.getElementById('page-description').content = siteData.meta_description;
                    document.getElementById('page-keywords').content = siteData.keywords;
                    
                    // Update logo image and text
                    const logoImageElement = document.getElementById('logo-image');
                    const logoTextElement = document.getElementById('logo-text');
                    
                    if (logoImageElement && siteData.logo_image) {
                        logoImageElement.src = siteData.logo_image;
                        logoImageElement.alt = 'Elevate';
                    }
                    
                    if (logoTextElement && siteData.logo_subtitle) {
                        logoTextElement.textContent = siteData.logo_subtitle;
                    }
                    
                    // Update CSS variables if colors are defined
                    if (siteData.colors) {
                        const root = document.documentElement;
                        Object.entries(siteData.colors).forEach(([key, value]) => {
                            root.style.setProperty(`--${key.replace(/_/g, '-')}-color`, value);
                        });
                    }
                }

                // Update hero section
                if (heroData) {
                    document.getElementById('hero-title').textContent = heroData.title;
                    document.getElementById('hero-subtitle').innerHTML = heroData.subtitle;
                    const ctaButton = document.getElementById('hero-cta');
                    ctaButton.textContent = heroData.cta_text;
                    ctaButton.href = heroData.cta_link;
                    
                    // Update hero background
                    if (heroData.background) {
                        const root = document.documentElement;
                        if (heroData.background.image && heroData.background.image.trim() !== '') {
                            root.style.setProperty('--hero-bg-image', `url('${heroData.background.image}')`);
                            // Only apply overlay if there's an image and overlay_opacity is specified
                            if (heroData.background.overlay_opacity !== undefined) {
                                root.style.setProperty('--hero-overlay-opacity', heroData.background.overlay_opacity);
                            }
                        } else {
                            // No image - remove any background image and set overlay to 0
                            root.style.setProperty('--hero-bg-image', 'none');
                            root.style.setProperty('--hero-overlay-opacity', '0');
                        }
                        if (heroData.background.color) {
                            root.style.setProperty('--hero-bg-color', heroData.background.color);
                        }
                    }
                }

                // Update advantages section
                if (advantagesData) {
                    document.getElementById('advantages-title').textContent = advantagesData.section_title;
                    
                    // Update advantages background
                    if (advantagesData.background) {
                        const root = document.documentElement;
                        if (advantagesData.background.image) {
                            root.style.setProperty('--advantages-bg-image', `url('${advantagesData.background.image}')`);
                        }
                        if (advantagesData.background.color) {
                            root.style.setProperty('--advantages-bg-color', advantagesData.background.color);
                        }
                        if (advantagesData.background.overlay_opacity !== undefined) {
                            root.style.setProperty('--advantages-overlay-opacity', advantagesData.background.overlay_opacity);
                        }
                    }
                    
                    const grid = document.getElementById('advantages-grid');
                    grid.innerHTML = '';
                    advantagesData.cards.forEach(card => {
                        const cardElement = document.createElement('div');
                        cardElement.className = 'advantage-card';
                        cardElement.innerHTML = `
                            <div class="icon">${card.icon}</div>
                            <h3>${card.title}</h3>
                            <p>${card.description}</p>
                        `;
                        grid.appendChild(cardElement);
                    });
                }

                // Update program section
                if (programData) {
                    document.getElementById('program-section-title').textContent = programData.section_title;
                    document.getElementById('program-title').textContent = programData.title;
                    document.getElementById('program-description').textContent = programData.description;
                    document.getElementById('features-title').textContent = programData.features_title;
                    
                    // Update programs background
                    if (programData.background) {
                        const root = document.documentElement;
                        if (programData.background.image) {
                            root.style.setProperty('--programs-bg-image', `url('${programData.background.image}')`);
                        }
                        if (programData.background.color) {
                            root.style.setProperty('--programs-bg-color', programData.background.color);
                        }
                        if (programData.background.overlay_opacity !== undefined) {
                            root.style.setProperty('--programs-overlay-opacity', programData.background.overlay_opacity);
                        }
                    }
                    
                    const featuresList = document.getElementById('features-list');
                    featuresList.innerHTML = '';
                    programData.features.forEach(feature => {
                        const li = document.createElement('li');
                        li.textContent = feature;
                        featuresList.appendChild(li);
                    });

                    document.getElementById('pricing-title').textContent = programData.pricing_title;
                    const feesList = document.getElementById('fees-list');
                    feesList.innerHTML = '';
                    programData.fees.forEach(fee => {
                        const feeElement = document.createElement('div');
                        feeElement.className = 'fee-item';
                        feeElement.innerHTML = `
                            <span>${fee.item}</span>
                            <span class="fee-amount">${fee.amount}</span>
                        `;
                        feesList.appendChild(feeElement);
                    });

                    document.getElementById('pricing-note').textContent = programData.pricing_note;
                    const programCta = document.getElementById('program-cta');
                    programCta.textContent = programData.cta_text;
                    programCta.href = programData.cta_link;
                }

                // Update registration section
                if (registrationData) {
                    document.getElementById('registration-title').textContent = registrationData.title;
                    document.getElementById('registration-subtitle').textContent = registrationData.subtitle;
                    
                    // Update registration background
                    if (registrationData.background) {
                        const root = document.documentElement;
                        if (registrationData.background.image) {
                            root.style.setProperty('--registration-bg-image', `url('${registrationData.background.image}')`);
                        }
                        if (registrationData.background.color) {
                            root.style.setProperty('--registration-bg-color', registrationData.background.color);
                        }
                        if (registrationData.background.overlay_opacity !== undefined) {
                            root.style.setProperty('--registration-overlay-opacity', registrationData.background.overlay_opacity);
                        }
                    }
                    
                    const formFields = document.getElementById('form-fields');
                    formFields.innerHTML = '';
                    registrationData.form_fields.forEach(field => {
                        const formGroup = document.createElement('div');
                        formGroup.className = 'form-group';
                        
                        if (field.type === 'select') {
                            formGroup.innerHTML = `
                                <label for="${field.id}">${field.label}</label>
                                <select id="${field.id}" name="${field.name}" ${field.required ? 'required' : ''}>
                                    ${field.options.map(option => `<option value="${option.value}">${option.text}</option>`).join('')}
                                </select>
                            `;
                        } else {
                            formGroup.innerHTML = `
                                <label for="${field.id}">${field.label}</label>
                                <input type="${field.type}" id="${field.id}" name="${field.name}" ${field.required ? 'required' : ''}>
                            `;
                        }
                        formFields.appendChild(formGroup);
                    });

                    document.getElementById('submit-btn').textContent = registrationData.submit_text;
                    document.getElementById('form-disclaimer').textContent = registrationData.disclaimer;
                }

                // Update footer
                const footerSections = document.getElementById('footer-sections');
                if (footerData) {
                    footerSections.innerHTML = '';
                    
                    footerData.sections.forEach((section, index) => {
                        const sectionElement = document.createElement('div');
                        sectionElement.className = 'footer-section';
                        
                        if (section.title === 'Location') {
                            sectionElement.innerHTML = `
                                <h3>${section.title}</h3>
                                ${section.content.map(item => {
                                    const text = typeof item === 'string' ? item : item.text;
                                    return `<p>${text}</p>`;
                                }).join('')}
                                <div class="map-container">
                                    <iframe 
                                        src="https://maps.google.com/maps?q=${footerData.location.latitude},${footerData.location.longitude}&hl=en&z=${footerData.location.zoom}&output=embed"
                                        width="100%"
                                        height="150"
                                        style="border:0; border-radius: 8px; margin-top: 1rem;"
                                        allowfullscreen=""
                                        loading="lazy"
                                        referrerpolicy="no-referrer-when-downgrade">
                                    </iframe>
                                </div>
                            `;
                        } else {
                            sectionElement.innerHTML = `
                                <h3>${section.title}</h3>
                                ${section.content.map(item => {
                                    if (typeof item === 'string') {
                                        return `<p>${item}</p>`;
                                    } else if (item.link) {
                                        return `<p><a href="${item.link}" target="_blank" rel="noopener noreferrer" style="color: var(--accent-color); text-decoration: none;">${item.text}</a></p>`;
                                    } else {
                                        return `<p>${item.text}</p>`;
                                    }
                                }).join('')}
                            `;
                        }
                        footerSections.appendChild(sectionElement);
                    });

                    document.getElementById('copyright').textContent = footerData.copyright;
                } else {
                    // Fallback footer content when YAML files don't load
                    footerSections.innerHTML = `
                        <div class="footer-section">
                            <h3>Contact Information</h3>
                            <p>Â© 2025 Elevate Learning Center, Sharm El-Sheikh</p>
                            <p>Email: info@elevate-sharm.com</p>
                            <p>Phone: +20 1157925051</p>
                        </div>
                        <div class="footer-section">
                            <h3>Partnership</h3>
                            <p>In collaboration with</p>
                            <p><a href="https://ecolefrancaisesharm.com/" target="_blank" rel="noopener noreferrer" style="color: var(--accent-color); text-decoration: none;">The French School of Sharm el Sheikh (EFSSH)</a></p>
                            <p><a href="https://homeschoolacademy.com/" target="_blank" rel="noopener noreferrer" style="color: var(--accent-color); text-decoration: none;">Bridgeway Academy</a></p>
                        </div>
                        <div class="footer-section">
                            <h3>Location</h3>
                            <p>at the French School in Hadaba</p>
                            <div class="map-container">
                                <iframe 
                                    src="https://maps.google.com/maps?q=27.8598,34.3016&hl=en&z=15&output=embed"
                                    width="100%"
                                    height="150"
                                    style="border:0; border-radius: 8px; margin-top: 1rem;"
                                    allowfullscreen=""
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade">
                                </iframe>
                            </div>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('Error loading content:', error);
            }
        }

        // Initialize content when page loads
        document.addEventListener('DOMContentLoaded', populateContent);

        // Netlify Identity integration
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }
    </script>
</body>
</html>
